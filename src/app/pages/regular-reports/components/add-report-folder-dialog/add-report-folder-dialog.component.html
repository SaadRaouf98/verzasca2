<div class="wrapper">
  <div class="row align-items-center component-header">
    <span class="close_btn" (click)="onCancel()">
      <img src="assets/icons/close-circle.svg" />
    </span>

    <h2 class="component-header_title col-12 d-flex body-bold">

      {{ "RegularReportsModule.AddRegularReportComponent.addNewFolder" | translate }}
    </h2>
    <p class="col-12">
      {{
      "RegularReportsModule.AddRegularReportComponent.slogan" | translate}}



    </p>
    <p class="col-12" *ngIf="data?.node">
      {{
      "shared.mainREport" | translate}} :
      <span class="body-bold"> {{ data?.node?.title }}</span>


    </p>
  </div>

  <div class="div-card">
    <form autocomplete="off" [formGroup]="form">
      <div class="row rest-fields-container ">
        <!-- start title -->
        <div class="col-12  pt-2 mat-form-field-div" [ngClass]="{
          'mat-form-field-div-error':
            form.get('title')?.errors && isTouched('title'),
          'mat-form-field-div-success':
            !form.get('title')?.errors && isTouched('title')
        }">
          <div class="label-container">
            <label for="title" class="body-bold">
              {{ "RegularReportsModule.AddRegularReportComponent.enterFolderName" | translate }}
            </label>
          </div>
          <!-- <mat-form-field appearance="outline">
            <input matInput name="title"
              placeholder="{{'RegularReportsModule.AddRegularReportComponent.pleaseEnterFolderName' | translate}}"
              formControlName="title" />

          </mat-form-field> -->
               <app-input
          formControlName="title"
          [placeholder]="'RegularReportsModule.AddRegularReportComponent.pleaseEnterFolderName'"
          [showSearchIcon]="false"
          [showFilterIcon]="false"
        ></app-input>

          <!-- <span class="span-error-message" *ngIf="
            form.get('title')?.errors?.['required'] && isTouched('title')
          ">
            {{ "RegularReportsModule.AddRegularReportComponent.FolderNameRequired" | translate }}
          </span> -->
            <div
          *ngIf=" form.get('title')?.errors?.['required'] && isTouched('title')"
          class="text-danger text-small mt-1"
        >
          <small>
            {{ 'RegularReportsModule.AddRegularReportComponent.FolderNameRequired' | translate }}
          </small>
        </div>
        </div>
        <!-- end title-->


        <!-- start Committee-->
        <div class="col-12  pt-2 mat-form-field-div" [ngClass]="{
          'mat-form-field-div-error':
            form.get('committeesIds')?.errors && isTouched('committeesIds'),
          'mat-form-field-div-success':
            !form.get('committeesIds')?.errors && isTouched('committeesIds')
        }">
          <div class="label-container">
            <label for="committeesIds" class="body-bold">
              {{ "RegularReportsModule.AddRegularReportComponent.committees" | translate }}
            </label>
          </div>
          <!-- <ng-select [placeholder]="'RegularReportsModule.AddRegularReportComponent.pleaseSelectCommittees' | translate"
            formControlName="committeesIds" [multiple]="true" [items]="organizationUnitsList"
            bindLabel="committeeSymbol" bindValue="id" class="form-control">
          </ng-select> -->
              <app-select
          formControlName="committeesIds"
          [options]="organizationUnitsList"
          [bindLabel]="'committeeSymbol'"
          [bindValue]="'id'"
          [placeholder]="'RegularReportsModule.AddRegularReportComponent.pleaseSelectCommittees'"
          [multiple]="true"
          [searchable]="false"
        >
        </app-select>
          <!-- <span class="span-error-message" *ngIf="
            form.get('committeesIds')?.errors?.['required'] && isTouched('committeesIds')
          ">
            {{ "shared.committeeRequired" | translate }}
          </span> -->
          
        <div
          *ngIf="form.get('committeesIds')?.errors?.['required'] && isTouched('committeesIds')"
          class="text-danger text-small mt-1"
        >
          <small>
            {{ 'shared.committeeRequired' | translate }}
          </small>
        </div>

        </div>
        <!-- end Committee -->
        <div class="col-12  pt-2 mat-form-field-div">
          <div class="label-container">
            <label for="isActive" class="body-bold">
              {{ "RegularReportsModule.AddRegularReportComponent.folderstatus" | translate }}
            </label>
          </div>

          <mat-slide-toggle name="isActive" formControlName="isActive" class="custom-slide-toggle">
            <ng-container *ngIf="form.get('isActive')?.value; then Yes; else No"></ng-container>

            <ng-template #Yes class="sctivation_span"> {{"RegularReportsModule.RegularReportsListComponent.active" | translate}} </ng-template>
            <ng-template #No class="sctivation_span"> {{"RegularReportsModule.RegularReportsListComponent.inactive" | translate}} </ng-template>
          </mat-slide-toggle>
          <!-- <mat-slide-toggle formControlName="isActive" class="custom-slide-toggle">
          </mat-slide-toggle> -->
          <!-- <span>{{form.get('isActive')?.value ? }}</span> -->
        </div>

      </div>





      <!--start button actions -->
      <div class="row | rest-fields-container">
        <div class="d-flex justify-content-end save-btn-container">
          <button class="button button-lg button-primary w-100" (click)="onSubmit()" mat-flat-button
            [disabled]="!form.valid || disableSubmitBtn">
            {{ "shared.approveBtn" | translate }}
          </button>

          <button class="cancel-btn" (click)="onCancel()" mat-flat-button color="primary" data-appearance="outline">
            {{ "shared.cancel" | translate }}
          </button>

        </div>
      </div>
      <!--End button actions-->
    </form>
  </div>
</div>