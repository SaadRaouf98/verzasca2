<!-- Standard Header -->
<div class="d-flex justify-content-between align-items-center mb-1 custom-modal-header">
  <span class="body-bold">
    {{ 'RegularReportsModule.AddRegularReportComponent.addNewFolder' | translate }}
  </span>
  <svg width="1.25rem" height="1.25rem" class="cursor-pointer" (click)="onCancel()">
    <use [attr.xlink:href]="'assets/icons/sprite.svg#circle-close'"></use>
  </svg>
</div>

<div class="custom-modal-body" mat-dialog-contents>
  <form autocomplete="off" [formGroup]="form">
    <div class="row">
      <div class="col-12">
        <p class="caption mb-3">
          {{ 'RegularReportsModule.AddRegularReportComponent.slogan' | translate }}
        </p>
        <p class="body text-small mb-2" *ngIf="data?.node">
          {{ 'shared.mainREport' | translate }} :
          <span class="body-bold text-small"> {{ data?.node?.title }}</span>
        </p>
      </div>

      <!-- Title -->
      <div class="col-12 mb-3">
        <p class="body-bold text-small mb-2">
          {{ 'RegularReportsModule.AddRegularReportComponent.enterFolderName' | translate }}
          <span class="text-danger text-small">*</span>
        </p>
        <app-input
          formControlName="title"
          [placeholder]="'RegularReportsModule.AddRegularReportComponent.pleaseEnterFolderName'"
          [showSearchIcon]="false"
          [showFilterIcon]="false"
        ></app-input>

        <div
          *ngIf="form.get('title')?.errors?.['required'] &&  isTouched('title')"
          class="text-danger text-small mt-1"
        >
          <small>
            {{ 'RegularReportsModule.AddRegularReportComponent.FolderNameRequired' | translate }}
          </small>
        </div>
      </div>
      <!-- End Title -->

      <!-- start Committee-->
      <div class="col-12 mb-3">
        <p class="body-bold text-small mb-2">
          {{ 'RegularReportsModule.AddRegularReportComponent.committees' | translate }}
          <span class="text-danger text-small">*</span>
        </p>
        <app-select
          formControlName="committeesIds"
          [options]="organizationUnitsList"
          [bindLabel]="'committeeSymbol'"
          [bindValue]="'id'"
          [placeholder]="'RegularReportsModule.AddRegularReportComponent.pleaseSelectCommittees'"
          [multiple]="true"
          [searchable]="false"
          [appendTo]="'body'"
        >
        </app-select>
        <div
          *ngIf="form.get('committeesIds')?.errors?.['required'] && isTouched('committeesIds')"
          class="text-danger text-small mt-1"
        >
          <small>
            {{ 'shared.committeeRequired' | translate }}
          </small>
        </div>
      </div>
      <!-- end Committee -->

      <div class="col-12">
        <p class="body-bold text-small mb-2">
          {{ 'RegularReportsModule.AddRegularReportComponent.folderstatus' | translate }}
          <span class="text-danger text-small">*</span>
        </p>

        <mat-slide-toggle name="isActive" formControlName="isActive" class="custom-slide-toggle">
          <ng-container *ngIf="form.get('isActive')?.value; then Yes; else No"></ng-container>

          <ng-template #Yes class="sctivation_span mx-2">
            {{ 'RegularReportsModule.RegularReportsListComponent.active' | translate }}
          </ng-template>
          <ng-template #No class="sctivation_span mx-2">
            {{ 'RegularReportsModule.RegularReportsListComponent.inactive' | translate }}
          </ng-template>
        </mat-slide-toggle>
      </div>
    </div>
  </form>
</div>

<!-- Standard Footer -->
<div
  mat-dialog-actions
  class="d-flex justify-content-between align-items-center mt-4 custom-modal-footer"
>
  <button
    class="button button-primary button-lg"
    style="flex: 0 0 69%"
    (click)="onSubmit()"
    [disabled]="!form.valid || disableSubmitBtn"
  >
    {{ 'shared.confirm' | translate }}
  </button>
  <button class="button button-secondary button-lg" style="flex: 0 0 29%" (click)="onCancel()">
    {{ 'shared.cancel' | translate }}
  </button>
</div>
