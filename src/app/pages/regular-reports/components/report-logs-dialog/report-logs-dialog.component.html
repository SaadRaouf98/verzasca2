<div mat-dialog-title class="modal-header">
  <button
    id="close-icon"
    (click)="onCancel()"
    class="dismiss-btn"
    mat-icon-button
  >
    <img src="assets/icons/close-ico.svg" class="close-icon" />
  </button>
</div>
<mat-dialog-content>
  <div >
    <div class="container" dir="rtl">
      <div class="card">
        <div class="card-header">

          <div class="search-container">
            <input
              type="search"
              class="search-input"
              placeholder="البحث حسب المستخدم أو المعرف أو الجهاز..."
              [(ngModel)]="searchTerm"
              (ngModelChange)="onSearch()"
            />
            <span class="search-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
          </svg>
        </span>
          </div>
        </div>
        <div class="card-content">
          <table class="activity-table">
            <thead>
            <tr>
              <th>التاريخ والوقت</th>
              <th>المستخدم</th>
              <th>عنوان IP</th>
              <th>المتصفح</th>
              <th>نظام التشغيل</th>
              <th>معرف السجل</th>
            </tr>
            </thead>
            <tbody *ngIf="filteredData.length > 0 && !loader ">
            <tr *ngFor="let item of filteredData">
              <td>{{ item.date | date : "dd/MM/yyyy hh:mm a" }}</td>
              <td class="user-name">{{ item.user.name }}</td>
              <td>{{ extractIpAddress(item.agent) }}</td>
              <td>{{ extractBrowserInfo(item.agent).browser }}</td>
              <td>{{ extractBrowserInfo(item.agent).os }}</td>
              <td class="record-id">{{ item.id }}</td>
            </tr>
            </tbody>
            <tbody *ngIf="filteredData.length == 0 && !loader">
            <tr>
              <td colspan="6" class="">
                <div class="no-data-message">
                  <p>لا يوجد بيانات</p>
                </div>
              </td>
            </tr>
            </tbody>
          </table>

        </div>
      </div>
    </div>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button [mat-dialog-close]="true">إغلاق</button>
</mat-dialog-actions>
