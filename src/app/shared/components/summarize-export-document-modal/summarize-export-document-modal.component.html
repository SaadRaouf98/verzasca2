<app-base-dialog
  [data]="data"
  [disableSubmitBtn]="disableSubmitBtn"
  [formValid]="form.valid"
  (submitted)="onSubmit()"
  (cancelled)="onCancel()"
>
  <form autocomplete="off" [formGroup]="form">
    <mat-tab-group
      [preserveContent]="true"
      id="group-body"
      class="modal-tabs"
      (selectedTabChange)="onSelectedTabChange($event)"
    >
      <mat-tab formGroupName="editorTab">
        <ng-template mat-tab-label>
          <!-- For tab labels -->
          <div class="custom-tab-label">
            <span>{{ 'actions.auditing.textEditorTab' | translate }}</span>
          </div>
        </ng-template>
        <div class="row">
          <div class="col-12">
            <app-editor
              [editorFileId]="editorFileId"
              (editorLoaded)="setEditorHasLoaded()"
            ></app-editor>
          </div>
        </div>
      </mat-tab>

      <mat-tab formGroupName="uploadFileTab">
        <ng-template mat-tab-label>
          <!-- For tab labels -->
          <div class="custom-tab-label">
            <span>{{ 'actions.auditing.uploadFileTab' | translate }}</span>
          </div>
        </ng-template>
        <div class="row">
          <div class="col-12">
            <p class="body-bold text-small mb-2">
              {{ 'SharedModule.UploadCommitteeApprovalFileModalComponent.document' | translate }}
            </p>
            <app-upload-attachment
              #uploadAttachment
              [multiple]="false"
              [showBtn]="false"
              (fileUploaded)="onFileDropped($event)"
            ></app-upload-attachment>
          </div>
        </div>
      </mat-tab>
    </mat-tab-group>
  </form>
</app-base-dialog>
