<ng-select
  [items]="options"
  [bindLabel]="bindLabel"
  [bindValue]="bindValue"
  [multiple]="multiple"
  [clearable]="true"
  [hideSelected]="hideSelected"
  [closeOnSelect]="!multiple"
  [searchable]="searchable"
  [placeholder]="placeholder | translate"
  [disabled]="readonly || disabled"
  [(ngModel)]="internalValue"
  (change)="onChangeTriggered()"
  (blur)="onTouched()"
  [notFoundText]="'shared.noResultsFound' | translate"
  (search)="onSearchInput($event)"
  (scrollToEnd)="scrollToEnd.emit()"
  [appendTo]="appendTo"
  (mousedown)="$event.stopPropagation()"
  [ngClass]="{ 'multi-custom': multiple }"
>
  <!-- [hideSelected]="true" -->
  <ng-template ng-dropdown-arrow>
    <svg width="1.25rem" height="1.25rem">
      <use [attr.xlink:href]="'assets/icons/sprite.svg#header-arrow-down'"></use>
    </svg>
  </ng-template>
  <ng-template ng-clear-icon>
    <span class="ng-clear-custom" title="Clear" (mousedown)="$event.stopPropagation()">
      <svg
        width="1em"
        height="1em"
        viewBox="0 0 16 16"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path d="M4 4L12 12M12 4L4 12" stroke="#888" stroke-width="2" stroke-linecap="round" />
      </svg>
    </span>
  </ng-template>
  <ng-template ng-option-tmp let-item="item">
    <div class="d-flex align-items-center option-custom">
      <mat-radio-button
        *ngIf="!multiple"
        class="custom-radio"
        disableRipple
        [checked]="isChecked(item)"
      ></mat-radio-button>
      <mat-checkbox
        *ngIf="multiple"
        class="custom-radio"
        disableRipple
        [checked]="isChecked(item)"
      ></mat-checkbox>
      <span class="mx-2 body text-small">
        {{ item[bindLabel] }}
      </span>
    </div>
  </ng-template>
</ng-select>
<ng-container *ngIf="multiple">
  <span
    class="bold-bold text-small font-bold selected-count mt-1"
    *ngIf="internalValue?.length > 1 && showSelected"
    >{{ internalValue?.length || 0 }} {{ 'shared.selected' | translate }}
  </span>
</ng-container>
